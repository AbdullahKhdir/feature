<div class="backdrop"></div>
<header class="main-header">
	<button id="side-menu-toggle">Menu</button>
	<nav class="main-header__nav">
		<ul class="main-header__item-list">
			<li class="main-header__item">
				<a class="<%= typeof path !== 'undefined' ? (path === '/' ? 'active' : '') : '' %>" href="/"> Shop </a>
			</li>
			<li class="main-header__item">
				<a
					class="<%= typeof path !== 'undefined' ? (path === '/products/' ? 'active' : '') : '' %>"
					href="/products/"
				>
					Products
				</a>
			</li>
			<% if (isUserAuthenticated) { %>
			<li class="main-header__item">
				<a class="<%= typeof path !== 'undefined' ? (path === '/cart/' ? 'active' : '') : '' %>" href="/cart/">
					Cart
				</a>
			</li>
			<li class="main-header__item">
				<a
					class="<%= typeof path !== 'undefined' ? (path === '/orders/' ? 'active' : '') : '' %>"
					href="/orders/"
				>
					Orders
				</a>
			</li>
			<li class="main-header__item">
				<a
					class="<%= typeof path !== 'undefined' ? (path === '/admin/add-product/' ? 'active' : '') : '' %>"
					href="/admin/add-product/"
				>
					Add Product
				</a>
			</li>
			<li class="main-header__item">
				<a
					class="<%= typeof path !== 'undefined' ? (path === '/admin/products/' ? 'active' : '') : '' %>"
					href="/admin/products/"
				>
					Admin Products
				</a>
			</li>
			<% } %>
		</ul>
		<% if (isUserAuthenticated) { %>
		<ul class="main-header__item-list">
			<li class="main-header__item">
				<form action="/logout/" method="post">
					<input type="hidden" name="x-csrf-token" value="<%= csrf %>" />
					<button type="submit">Logout</button>
				</form>
			</li>
		</ul>
		<% } else { %>
		<ul class="main-header__item-list">
			<li class="main-header__item">
				<a class="<%= path === '/login/' ? 'active' : '' %>" href="/login/">Login</a>
			</li>
			<li class="main-header__item">
				<a class="<%= path === '/signup/' ? 'active' : '' %>" href="/signup/">Signup</a>
			</li>
		</ul>
		<% } %>
	</nav>
</header>

<nav class="mobile-nav">
	<ul class="mobile-nav__item-list">
		<li class="mobile-nav__item">
			<a class="<%= typeof path !== 'undefined' ? (path === '/' ? 'active' : '') : '' %>" href="/"> Shop </a>
		</li>
		<li class="mobile-nav__item">
			<a
				class="<%= typeof path !== 'undefined' ? (path === '/products/' ? 'active' : '') : '' %>"
				href="/products/"
			>
				Products
			</a>
		</li>
		<% if (isUserAuthenticated) { %>
		<li class="mobile-nav__item">
			<a class="<%= typeof path !== 'undefined' ? (path === '/cart/' ? 'active' : '') : '' %>" href="/cart/">
				Cart
			</a>
		</li>
		<li class="mobile-nav__item">
			<a class="<%= typeof path !== 'undefined' ? (path === '/orders/' ? 'active' : '') : '' %>" href="/orders/">
				Orders
			</a>
		</li>
		<li class="mobile-nav__item">
			<a
				class="<%= typeof path !== 'undefined' ? (path === '/admin/add-product/' ? 'active' : '') : '' %>"
				href="/admin/add-product/"
			>
				Add Product
			</a>
		</li>
		<li class="mobile-nav__item">
			<a
				class="<%= typeof path !== 'undefined' ? (path === '/admin/products/' ? 'active' : '') : '' %>"
				href="/admin/products/"
			>
				Admin Products
			</a>
		</li>
		<% } %> <% if (isUserAuthenticated) { %>
		<li class="mobile-nav__item">
			<form action="/logout/" method="post">
				<input type="hidden" name="x-csrf-token" value="<%= csrf %>" />
				<button type="submit">Logout</button>
			</form>
		</li>
		<% } else { %>
		<li class="mobile-nav__item">
			<a class="<%= path === '/login/' ? 'active' : '' %>" href="/login/">Login</a>
		</li>
		<li class="mobile-nav__item">
			<a class="<%= path === '/signup/' ? 'active' : '' %>" href="/signup/">Signup</a>
		</li>
		<% } %>
	</ul>
</nav>

<main>
	<% if (error) { %>
	<div class="user-message user-message--error"><%= error %></div>
	<% } %> <% if (warning) { %>
	<div class="user-message user-message--warning"><%= warning %></div>
	<% } %> <% if (success) { %>
	<div class="user-message user-message--success"><%= success %></div>
	<% } %> <% if (typeof validationErrors !== 'undefined') { %> <% if (validationErrors) {%>
	<div class="user-message user-message--validation-errors">
		<% if (Object.keys(validationErrors).length > 0) {%> <% for(key in validationErrors) {%>
		<p class="err--on-validate">-<%= validationErrors[key] %></p>
		<% } %> <% } %>
	</div>
	<% } %> <% } %>
</main>
